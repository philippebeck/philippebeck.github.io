//! ********** VARIABLES **********

$sm: 768px;
$md: 1366px;
$lg: 1920px;

$breakpoints: (
  "sm": $sm,
  "md": $md,
  "lg": $lg
) !default;

$font-families: Geologica, Trocchi, UbuntuMono;

$sans-serif: Geologica, Helvetica, sans-serif;
$serif: Trocchi, Times, serif;
$monospace: UbuntuMono, Courier, monospace;

$primary:   hsl(270, 100%, 80%);
$secondary: hsl(120, 100%, 80%);
$white:     hsl(  0,   0%, 99%);
$silver:    hsl(  0,   0%, 90%);
$gray:      hsl(  0,   0%, 10%);
$black:     hsl(  0,   0%,  1%);

$transforms: (
  "grow-min": scale(0.7, 0.7),
  "grow-max": scale(0, 0),

  "slide-top":    translateY(100%),
  "slide-right":  translateX(-100%),

  "turn-x":   rotateX(360deg),
  "turn-y":   rotateY(360deg),
  "turn-z":   rotateZ(360deg),
  "turn-xy":  rotate3d(1, 1, 0, 360deg),
  "turn-xz":  rotate3d(1, 0, 1, 360deg),
  "turn-yz":  rotate3d(0, 1, 1, 360deg),
  "turn-3d":  rotate3d(1, 1, 1, 360deg)
) !default;

$border: 1px;
$padding: 10px;
$font: 1rem;

$border-ratios: (
  "sm": 2.5,
  "md": 3.5,
  "lg": 4.5
) !default;

$padding-ratios: (
  "sm": 3.5,
  "md": 4.5,
  "lg": 5
) !default;

$font-ratios: (
  "sm": 1.3,
  "md": 1.5,
  "lg": 1.7
) !default;

$icons: (
  "css3":         #1572B6,
  "database":     #00758F,
  "figma":        #FF3737,
  "font-awesome": #538DD7,
  "gitkraken":    #009587,
  "grunt":        #FBA919,
  "html5":        #E44D26,
  "node-js":      #3C873A,
  "php":          #777BB4,
  "python":       #3776AB,
  "react":        #61DBFB,
  "sass":         #CD6799,
  "sitemap":      #3498DB,
  "slack":        #ECB22E,
  "square-git":   #F1502F,
  "square-js":    #F0DB4F,
  "trello":       #0079BF,
  "vuejs":        #42B883,
  "windows":      #05A6F1
) !default;

$buttons: (
  "linkedin-in":  #0077B5,
  "medium":       #00AB6C,
  "npm":          #EA2039
) !default;

//! ********** MIXINS **********

@mixin font-face($font-family) {
  @font-face {
    font-family: $font-family;
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src:
      local("#{$font-family}-Regular"),
      url("/fonts/#{$font-family}-Regular.woff2") format("woff2");
  }
}

@mixin keyframes($key, $value) {
  @keyframes #{$key} {
    from {
      transform: #{$value};
    }
  }
}

@mixin body($font-ratio) {
  font-size: calc($font * $font-ratio);
}

@mixin molecules($border-ratio, $padding-ratio) {
  border-width: calc($border * $border-ratio);
  padding: calc($padding * $padding-ratio);
}

@mixin icon($name, $color) {
  [open] .fa-#{$name},
  *:hover > * > .fa-#{$name},
  *:focus > * > * > .fa-#{$name} {
    color: $color;
  }
}

@mixin button($icon, $color) {
  .fa-#{$icon}:hover,
  .fa-#{$icon}:focus {
    color: $color;
  }
}

//! ********** RULES **********

@each $font-family in $font-families {
  @include font-face($font-family);
}

@each $key, $value in $transforms {
  @include keyframes($key, $value);
}

//! ********** MAIN **********

html {
  scroll-behavior: smooth;
}

body {
  margin: 30px 0 0;
  font-family: $sans-serif;
  font-size: $font;
  background-color: $black;
  color: $white;

  @each $breakpoint-key, $breakpoint-value in $breakpoints {
    @media (min-width: $breakpoint-value) {
      @include body(map-get($font-ratios, $breakpoint-key));
    }
  }

  [id=home],
  [id=portfolio],
  [id=skills],
  [id=blog],
  [id=about],
  [id=tools] {
    border-top: solid $border $silver;
    padding: calc($padding * 4);

    @each $breakpoint-key, $breakpoint-value in $breakpoints {
      @media (min-width: $breakpoint-value) {

        @include molecules(
          map-get($border-ratios, $breakpoint-key),
          map-get($padding-ratios, $breakpoint-key)
        );
      }
    }
  }
}

@each $social-key, $social-value in $buttons {
  @include button($social-key, $social-value);
}
